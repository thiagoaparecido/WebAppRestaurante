@model IEnumerable<WebAppRestaurante.Models.Prato>

@{
//Cultures culturePtBr = new Cultures();
}

<h2>Pratos</h2>

<p>
    <a href="/Pratos/Create" class="btn btn-success btn-sm"><span class="glyphicon-plus"></span>&nbsp; Cadastrar Novo Prato</a>
</p>
<table class="table table-striped table-bordered">
    <tr>
        <th></th>
        <th></th>
        <th>
            Restaurante
        </th>
        <th>
            Prato
        </th>
        <th>
            Preço
        </th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.ActionLink("Excluir", "Delete", new { id = item.PratoID })
        </td>
        <td>
            @Html.ActionLink("Editar", "Edit", new { id = item.PratoID })
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Restaurante.Descricao)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Descricao)
        </td>
        <td>
            @{ 
                string preco = item.Preco.ToString();

                if (preco.Length == 0)
                {
                    preco = "0,00";
                }
                else
                {

                    if (preco.Length < 3)
                    {
                        preco = preco + "00";
                    }
                    else
                    {

                        preco = preco.Substring(0, (preco.Length - 2)) + "," +  preco.Substring((preco.Length - 2), 2);

                        preco = String.Format("{0:#,00}", preco);

                    }
                }
            }
            @preco
        </td>
    </tr>
}

</table>
